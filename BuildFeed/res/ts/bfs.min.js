var BuildFeed;(function(n){function r(n){n.preventDefault();var t=this;t.nextElementSibling.classList.toggle("open")}function u(n){n.preventDefault();var t=this;t.parentElement.classList.toggle("open")}function f(n){n.preventDefault();var t=this;document.cookie="bf_theme="+t.dataset.theme+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/";location.reload(!0)}function e(n){n.preventDefault();var t=this;document.cookie="bf_lang="+t.dataset.lang+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/";location.reload(!0)}function o(n){n.preventDefault();var t=document.getElementById("modal-search-overlay");t.classList.add("open")}function s(n){n.preventDefault();var t=document.getElementById("modal-search-overlay");t.classList.remove("open")}function h(n){n.preventDefault();n.stopPropagation()}function c(){var n=document.getElementById("modal-search-result");n.innerHTML="";typeof i!="undefined"&&clearTimeout(i);typeof t!="undefined"&&t.readyState!==XMLHttpRequest.DONE&&t.abort();i=setInterval(l,200)}function l(){typeof i!="undefined"&&clearTimeout(i);var n=document.getElementById("modal-search-input");t=new XMLHttpRequest;t.onreadystatechange=a;t.open("GET","/api/GetSearchResult/"+n.value+"/",!0);t.send(null)}function a(){var i,n;if(t.readyState===XMLHttpRequest.DONE&&t.status===200){var r=document.getElementById("modal-search-result"),u=document.getElementById("result-template"),f=jsrender.templates(u.innerHTML),e=f.render(JSON.parse(t.responseText));for(r.innerHTML=e,i=r.getElementsByTagName("a"),n=0;n<i.length;n++)i[n].addEventListener("click",function(){var n=document.getElementById("modal-search-input");ga("send","pageview","/api/GetSearchResult/"+n.value+"/")})}}function v(){for(var t,l,a,v,y,p,w,b,k,i=document.getElementsByClassName("dropdown-parent"),n=0;n<i.length;n++)for(t=0;t<i[n].childNodes.length;t++)l=i[n].childNodes[t],l.nodeName==="A"&&l.addEventListener("click",u);for(a=document.getElementById("settings-theme-menu").getElementsByTagName("a"),n=0;n<a.length;n++)a[n].addEventListener("click",f);for(v=document.getElementById("settings-lang-menu").getElementsByTagName("a"),n=0;n<v.length;n++)v[n].addEventListener("click",e);y=document.getElementById("page-navigation-toggle");y.addEventListener("click",r);p=document.getElementById("page-navigation-search");p.addEventListener("click",o);w=document.getElementById("modal-search-overlay");w.addEventListener("click",s);b=document.getElementById("modal-search");b.addEventListener("click",h);k=document.getElementById("modal-search-input");k.addEventListener("keyup",c)}var t,i;n.MobileMenuToggle=r;n.DropdownClick=u;n.SwitchTheme=f;n.SwitchLanguage=e;n.OpenSearch=o;n.CloseSearch=s;n.StopClick=h;n.InitiateSearch=c;n.SendSearch=l;n.CompleteSearch=a;n.BuildFeedSetup=v})(BuildFeed||(BuildFeed={}));window.addEventListener("load",BuildFeed.BuildFeedSetup);