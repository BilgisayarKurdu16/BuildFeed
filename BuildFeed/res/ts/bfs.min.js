var BuildFeed;(function(n){function r(n){n.preventDefault();var t=this;t.parentElement.classList.toggle("open")}function u(n){n.preventDefault();var t=this;document.cookie="bf_theme="+t.dataset.theme+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/";location.reload(!0)}function f(n){n.preventDefault();var t=this;document.cookie="bf_lang="+t.dataset.lang+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/";location.reload(!0)}function e(n){n.preventDefault();var t=document.getElementById("modal-search-overlay");t.classList.add("open")}function o(n){n.preventDefault();var t=document.getElementById("modal-search-overlay");t.classList.remove("open")}function s(n){n.preventDefault();n.stopPropagation()}function h(){var n=document.getElementById("modal-search-result");n.innerHTML="";typeof i!="undefined"&&clearTimeout(i);typeof t!="undefined"&&t.readyState!==XMLHttpRequest.DONE&&t.abort();i=setInterval(c,200)}function c(){typeof i!="undefined"&&clearTimeout(i);var n=document.getElementById("modal-search-input");t=new XMLHttpRequest;t.onreadystatechange=l;t.open("GET","/api/GetSearchResult/"+n.value+"/",!0);t.send(null)}function l(){var i,n;if(t.readyState===XMLHttpRequest.DONE&&t.status===200){var r=document.getElementById("modal-search-result"),u=document.getElementById("result-template"),f=jsrender.templates(u.innerHTML),e=f.render(JSON.parse(t.responseText));for(r.innerHTML=e,i=r.getElementsByTagName("a"),n=0;n<i.length;n++)i[n].addEventListener("click",function(){var n=document.getElementById("modal-search-input");ga("send","pageview","/api/GetSearchResult/"+n.value+"/")})}}function a(){for(var t,c,l,a,v,y,p,w,i=document.getElementsByClassName("dropdown-parent"),n=0;n<i.length;n++)for(t=0;t<i[n].childNodes.length;t++)c=i[n].childNodes[t],c.nodeName==="A"&&c.addEventListener("click",r);for(l=document.getElementById("settings-theme-menu").getElementsByTagName("a"),n=0;n<l.length;n++)l[n].addEventListener("click",u);for(a=document.getElementById("settings-lang-menu").getElementsByTagName("a"),n=0;n<a.length;n++)a[n].addEventListener("click",f);v=document.getElementById("page-navigation-search");v.addEventListener("click",e);y=document.getElementById("modal-search-overlay");y.addEventListener("click",o);p=document.getElementById("modal-search");p.addEventListener("click",s);w=document.getElementById("modal-search-input");w.addEventListener("keyup",h)}var t,i;n.DropdownClick=r;n.SwitchTheme=u;n.SwitchLanguage=f;n.OpenSearch=e;n.CloseSearch=o;n.StopClick=s;n.InitiateSearch=h;n.SendSearch=c;n.CompleteSearch=l;n.BuildFeedSetup=a})(BuildFeed||(BuildFeed={}));window.addEventListener("load",BuildFeed.BuildFeedSetup);